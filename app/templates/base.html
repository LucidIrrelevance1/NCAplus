{% block doc -%}
<!DOCTYPE html>
<html {% block html_attribs %}{% endblock html_attribs %} >
{%- block html %}
  <head>
	{%- block head %}

	    {%- block metas %}
		    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    {%- endblock metas %}

		{%- block styles %}
			<link href="{{bootstrap_find_resource('css/bootstrap.css', cdn='bootstrap')}}" rel="stylesheet" media="screen">
			<link href="/static/css/github.css" rel="stylesheet">
			<link href="/static/css/style.css" rel="stylesheet">
	  		<link rel="stylesheet" href="/static/css/font-awesome.min.css">
	    {%- endblock styles %}
		<script src="/static/js/skulpt.min.js"></script>
		<script src="/static/js/skulpt-stdlib.js"></script>
	{%- endblock head %}

  </head>
  <body {% block body_attribs %}{% endblock body_attribs %} >
    {% block body -%}
        {% block navbar %}

	<div class="container">
		<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		  <div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
			<a href = "/" class = "navbar-brand"><div class="pn-noncollapse">FedEx migration tool</div></a>
		      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar navbar-inverse"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		    </div>
		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">
		       <!-- <li class="dropdown">
		          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Menu<span class="caret"></span></a>
		          <ul class="dropdown-menu multi-column columns-2" role="menu" style="font-size:.8em;">
			          <div class="row">
				          <div class="col-sm-4">
					          <ul class="multi-column-dropdown">
								  {% for section_info in data['integration'] %}
									  {% if section_info.line == "sep" %}
										<li class="divider"></li>
									  {% elif section_info.line == "head" %}
										<li class="dropdown-header">{{ section_info.title }}</li>
									  {% elif section_info.line == "data" %}
										  <li><a href="/integration/{{ section_info.weburl }}">{{ section_info.title }}</a></li>
									  {% endif  %}
								  {% endfor %}
					          </ul>
				          </div>
			          </div>
		          </ul>
		        </li>-->
				<li class="ciscoliveitem"><a target="blank" data-toggle="modal" data-target="#ABOUT" href="#">About</a></li>
		      </ul>
		      <ul class="nav navbar-nav navbar-right navHeaderCollapse">
					<img  width="35px" style="margin:6px;" src="/static/images/CiscoLogoWhite.png">
		      </ul>
		    </div><!-- /.navbar-collapse -->
		  </div><!-- /.container-fluid -->
		</nav>
		</div>
		{%- endblock navbar %}
		
		<div class="container">
			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
				{% block content %}
				{% endblock %}
			</div>
    	</div>
        <div class="modal fade" id="ABOUT" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h3 class="modal-title" id="myModalLabel">FedEx Hub</h3>
              </div>
              <div class="modal-body">
                <div class="row">
                    <p>The purpose of this tool is to provide VLANs inside an APIC fabric for FedEx.</p>
                  </div>
                  <hr>
                <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-4">
                        <p>Page built on Python Flask</p>
                        <img src="/static/images/flask.png" class="img-responsive"  style="margin: 0 auto;">
                    </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
        <!-- Modal for window of XML code -->
        <div class="modal fade" id="xml-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">XML</h4>
              </div>
              <div class="modal-body ciscohl" id="xml-modal-content">
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" onclick="$('#xml-modal-content').empty()">Close</button>
              </div>
            </div>
          </div>
        </div>
	{%- endblock body %}
  </body>

{% block scripts %}
<script src="{{bootstrap_find_resource('jquery.js', cdn='jquery')}}"></script>
<script src="{{bootstrap_find_resource('js/bootstrap.js', cdn='bootstrap')}}"></script>
<script src="/static/js/ZeroClipboard.js" type="text/javascript"></script>
<script src="/static/js/jquery.bootstrap-growl.min.js" type="text/javascript"></script>
<script src="/static/js/highlight.pack.js"></script>
<script type="text/javascript" src="/static/js/sijax/sijax.js"></script>
<script src="/static/js/jquery-validator/jquery.validate.min.js"></script>
<script type="text/javascript">
    {{ g.sijax.get_js()|safe }}
</script>


<script type="text/javascript">
var urlParams;
(window.onpopstate = function () {
    var match,
        pl     = /\+/g,  // Regex for replacing addition symbol with a space
        search = /([^&=]+)=?([^&]*)/g,
        decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
        query  = window.location.search.substring(1);

    urlParams = {};
    while (match = search.exec(query))
       urlParams[decode(match[1])] = decode(match[2]);
})();

// Config ZeroClipboard
ZeroClipboard.config({
    hoverClass: 'btn-clipboard-hover'
})

// Insert copy to clipboard button before .ciscohl
$('.ciscohl').each(function () {
    var btnHtml = '<div class="zero-clipboard"><span class="btn-clipboard">Copy</span></div>';
    $(this).before(btnHtml)
});

function runit(codeid){
    var codeblock = "codeblock-" + codeid;
    var preblock =  "output-" + codeid;
    var outfixhtmlfunc = 'outputfixhtml' + codeid;
    var code = document.getElementById(codeblock).value;
	document.getElementById(preblock).innerHTML = '';
    Sk.configure({output:eval(outfixhtmlfunc) });
    eval(Sk.importMainWithBody("<stdin>", false, code));
}


var zeroClipboard = new ZeroClipboard($('.btn-clipboard'));
var zeroClipboard2 = new ZeroClipboard($('.link-clipboard'));
var htmlBridge = $('#global-zeroclipboard-html-bridge');

// Handlers for ZeroClipboard
zeroClipboard.on('ready', function (event) {
    htmlBridge
        .data('placement', 'top')
        .attr('title', 'Copy to clipboard')
        .tooltip();

    // Copy to clipboard
    zeroClipboard.on('copy', function (event) {
        var ciscohl = $(event.target).parent().nextAll('.ciscohl').first();
        var pod = urlParams["pod"];
        var section = urlParams["section"];

        /*
        $.ajax({
	       //type: "GET",
	       url: "/dash/collect/pod/" + "/section/" + "/step/" + ciscohl[0].id
	       // data:  "pod=" + pod + "&section=" + section + "&step=" + ciscohl[0].id
        });
        */
        event.clipboardData.setData("text/plain", ciscohl.text());
        //$(event.target).parent().next(".ciscohl").css("background","#e0ffcb url('/static/images/ok.png') no-repeat top left / 45px 45px")
    });

    // Notify copy success and reset tooltip title
    zeroClipboard.on('aftercopy', function () {
        htmlBridge
            .attr('title', 'Copied!')
            .tooltip('fixTitle')
            .tooltip('show')
            .attr('title', 'Copy to clipboard')
            .tooltip('fixTitle');

    });
});

// Notify copy failure
zeroClipboard.on('error', function () {
    ZeroClipboard.destroy();
    htmlBridge
        .attr('title', 'Flash required')
        .tooltip('fixTitle')
        .tooltip('show');
});

$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});

$(function () {
  $('[data-toggle="popover"]').popover({
      container: 'body',
      html: true
  })
})

</script>
{%- endblock scripts %}
{%- endblock html %}
</html>
{% endblock doc -%}
